# Project Research Summary

**Project:** Wedding Invitation (Свадебная визитка)
**Domain:** Одностраничный свадебный сайт-приглашение
**Researched:** 2026-02-22
**Confidence:** HIGH

## Краткое резюме

Свадебный сайт-приглашение — это одностраничник, генерируемый статически (SSG) на Next.js 15 с Tailwind CSS 4 для стилизации и Framer Motion для анимаций. Проект не требует бэкенда: все данные хранятся в `constants.ts`, RSVP отправляется через EmailJS или Google Sheets, карта встраивается через iframe Яндекс.Карт.

Рекомендуемый подход: строить снизу вверх — сначала фундамент (проект, типы, константы, лейаут), затем статические секции (Hero, Info, Timeline), потом клиентские компоненты (Countdown, Gallery, Map, RSVP), и в финале — полировка (анимации, OG-теги, оптимизация, деплой).

Главные риски: тяжёлые изображения на мобильных (решается через `next/image`), сбои RSVP-формы (решается тестированием лимитов), неработающие OG-теги в мессенджерах (решается статическими meta-тегами и тестированием через @WebpageBot).

## Ключевые находки

### Рекомендуемый стек

Стек полностью определён пользователем и подтверждён исследованием как оптимальный для данной задачи.

**Основные технологии:**
- **Next.js 15 (App Router):** SSG, `next/image`, `next/font`, metadata API — всё из коробки
- **Tailwind CSS 4:** Mobile-first утилиты, zero-runtime, CSS-first конфигурация
- **Framer Motion 12:** Декларативные анимации при скролле (`whileInView`), ~30KB gzip
- **TypeScript 5:** Типизация данных свадьбы и форм
- **Lucide React:** Tree-shakeable иконки, единый стиль

**Вспомогательные:**
- **date-fns 4** — для countdown (tree-shakeable, в 10x легче moment.js)
- **@emailjs/browser 4** — RSVP без бэкенда (200 писем/мес бесплатно)
- **react-intersection-observer 9** — триггер анимаций при скролле
- **Яндекс.Карты (iframe)** — карта без API-ключа, бесплатно

### Ожидаемые фичи

**Table stakes (11 фич — обязательны):**
- Hero-секция с именами и датой
- Обратный отсчёт
- Информация о месте, дате, времени
- Интерактивная карта
- Дресс-код
- Программа/расписание дня
- Фотогалерея
- RSVP-форма
- OG-теги для мессенджеров
- Mobile-first респонсив
- Базовые scroll-анимации

**Дифференциаторы (для v1.x после MVP):**
- Персонализация через URL-параметры (`?to=Иван`)
- Конверт-анимация на входе
- Фоновая музыка (с кнопкой play/pause)
- Конфетти при открытии
- Кнопка «Добавить в календарь»

**Отложено (v2+):**
- Таймлайн «Наша история»
- Гостевая книга
- Параллакс-эффекты

### Архитектурный подход

Одностраничник из 8 секций-компонентов, скомпонованных в `page.tsx`. Данные из `lib/constants.ts` (единый источник истины). Server Components для статических секций, Client Components (`'use client'`) только для интерактивных: Countdown, Gallery, Map, RSVP, AnimatedSection.

**Основные компоненты:**
1. **layout.tsx** — шрифты, OG-теги, глобальные стили (Server)
2. **page.tsx** — композиция всех секций (Server)
3. **Hero** — полноэкранный баннер (Server + AnimatedSection)
4. **Countdown** — таймер с `useCountdown` хуком (Client)
5. **Info** — карточки «Где/Когда/Дресс-код» (Server)
6. **Timeline** — программа дня (Server)
7. **Gallery** — фотогалерея с лайтбоксом (Client)
8. **Map** — iframe Яндекс.Карт (Client, lazy load)
9. **RSVP** — форма + EmailJS (Client)
10. **Footer** — контакты (Server)

### Критические подводные камни

1. **Тяжёлые изображения** — использовать `next/image`, WebP, lazy loading, blur placeholders. Lighthouse Performance > 90.
2. **Карта не загружается** — iframe Яндекс.Карт без API-ключа, статическая картинка как fallback, lazy load.
3. **RSVP ломается при массовой рассылке** — проверить лимиты EmailJS (200/мес), обработка ошибок, localStorage backup.
4. **Анимации тормозят на бюджетных Android** — только `transform`/`opacity`, `once: true`, `prefers-reduced-motion`.
5. **OG-теги не работают в Telegram/WhatsApp** — статические meta через metadata API, изображение 1200x630, тест через @WebpageBot.

## Импликации для роадмапа

### Phase 1: Фундамент проекта
**Обоснование:** Всё зависит от базовой структуры — типы, константы, лейаут, шрифты.
**Создаёт:** Next.js проект, `constants.ts`, `layout.tsx`, типы, UI-компоненты.
**Предотвращает:** FOUT шрифтов, неоптимизированные изображения.

### Phase 2: Статические секции
**Обоснование:** Формируют основной контент страницы, не требуют клиентского JS.
**Создаёт:** Hero, Info, Timeline, Footer секции.
**Использует:** `constants.ts`, типы, UI-компоненты из Phase 1.

### Phase 3: Динамические компоненты
**Обоснование:** Требуют `'use client'`, браузерные API, `useState`/`useEffect`.
**Создаёт:** Countdown (с хуком), Gallery (с лайтбоксом), AnimatedSection (Framer Motion).
**Предотвращает:** Анимации тормозят, неправильный countdown timezone.

### Phase 4: Внешние интеграции
**Обоснование:** Зависят от базовой структуры и UI, подключают внешние сервисы.
**Создаёт:** Map (Яндекс.Карты iframe), RSVP (форма + EmailJS/Google Sheets).
**Предотвращает:** Карта не загружается, RSVP ломается.

### Phase 5: Полировка, SEO и деплой
**Обоснование:** Финальная стадия перед отправкой гостям.
**Создаёт:** OG-теги, оптимизация изображений, тестирование, деплой на Vercel.
**Предотвращает:** OG-теги не работают в мессенджерах, медленная загрузка.

### Phase 6: Расширенные фичи (v1.x)
**Обоснование:** Дифференциаторы после стабильного MVP.
**Создаёт:** Персонализация URL, конверт-анимация, музыка, конфетти, «Добавить в календарь».

### Порядок фаз — обоснование

- Phase 1 → 2: секции используют типы и константы из фундамента
- Phase 2 → 3: анимации оборачивают существующие секции
- Phase 1 → 4: интеграции используют env-переменные и базовую структуру
- Phase 1-4 → 5: полировка требует готового функционала
- Phase 5 → 6: расширения добавляются к работающему сайту

### Флаги исследований

Фазы, требующие дополнительного исследования при планировании:
- **Phase 4:** Интеграция с EmailJS и Яндекс.Карты — нужно проверить актуальные API
- **Phase 6:** Конверт-анимация — нетривиальная CSS/Framer Motion задача

Фазы со стандартными паттернами (пропустить research-phase):
- **Phase 1:** Стандартный Next.js scaffold
- **Phase 2:** Обычная вёрстка секций
- **Phase 5:** Стандартная оптимизация и деплой на Vercel

## Оценка уверенности

| Область | Уверенность | Примечания |
|---------|-------------|------------|
| Стек | HIGH | Все технологии выбраны пользователем, подтверждены исследованием |
| Фичи | HIGH | 11 table stakes + 12 дифференциаторов идентифицированы, 4 референса проанализированы |
| Архитектура | HIGH | Одностраничник на SSG — хорошо документированный паттерн |
| Подводные камни | HIGH | 7 конкретных pitfalls с prevention strategies |

**Общая уверенность:** HIGH

### Пробелы для уточнения

- **Дата свадьбы:** Нужна конкретная дата для countdown и всех текстов
- **Имена пары:** Нужны для Hero, OG-тегов, констант
- **Место проведения:** Адрес, координаты для карты
- **Фотографии:** Нужны реальные фото для галереи и Hero
- **EmailJS vs Google Sheets:** Окончательный выбор сервиса для RSVP

## Источники

### Primary (HIGH confidence)
- Next.js 15 Documentation — App Router, Image, Font, Metadata
- Tailwind CSS 4 Documentation — CSS-first конфигурация
- Framer Motion Documentation — whileInView, motion API
- EmailJS Documentation — бесплатный тариф, лимиты

### Secondary (MEDIUM confidence)
- 4 референсных шаблона на GitHub (nextjs-wedding-invite, wedding-invitation, sakeenah, react-wedding-card)
- Bundlephobia — анализ размеров пакетов

---
*Research completed: 2026-02-22*
*Ready for roadmap: yes*
