---
phase: 02-static-sections
plan: 02
type: execute
wave: 2
depends_on: [02-01]
files_modified:
  - src/lib/types.ts
  - src/lib/constants.ts
  - src/components/sections/TimelineSection.tsx
  - src/app/page.tsx
autonomous: true
requirements: [CONT-05]

must_haves:
  truths:
    - "Timeline section displays all events in zigzag layout with events alternating left-right on desktop"
    - "On mobile, timeline collapses to single-column linear layout (all events on one side)"
    - "Each timeline event shows a unique Lucide icon inside a colored circle on the vertical line"
    - "Each timeline event is wrapped in a Card component with time, title, and description"
    - "Timeline vertical line is solid alexandrite color matching SectionHeading style"
  artifacts:
    - path: "src/components/sections/TimelineSection.tsx"
      provides: "Zigzag timeline with Lucide icons, Card wrappers, responsive collapse"
      contains: "timelineData"
    - path: "src/lib/types.ts"
      provides: "Updated TimelineEvent with optional description field"
      contains: "description"
    - path: "src/lib/constants.ts"
      provides: "Timeline events with description text for each stage"
      contains: "description"
  key_links:
    - from: "src/components/sections/TimelineSection.tsx"
      to: "@/lib/constants"
      via: "import timelineData"
      pattern: "import.*timelineData.*from.*constants"
    - from: "src/components/sections/TimelineSection.tsx"
      to: "lucide-react"
      via: "icon imports for each timeline event"
      pattern: "import.*from.*lucide-react"
    - from: "src/app/page.tsx"
      to: "src/components/sections/TimelineSection.tsx"
      via: "import TimelineSection"
      pattern: "import.*TimelineSection.*from.*components/sections"
---

<objective>
Create the Timeline section with decorative zigzag layout, Lucide icons, Card wrappers, and responsive mobile collapse. Also update TimelineEvent type and constants to include descriptions per CONTEXT.md.

Purpose: Deliver the most visually complex section — a zigzag timeline showing the wedding day program with unique icons per event, completing all Phase 2 static content sections.
Output: TimelineSection component, updated types/constants, page.tsx integration.
</objective>

<execution_context>
@C:/Users/user/.config/opencode/get-shit-done/workflows/execute-plan.md
@C:/Users/user/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-static-sections/02-CONTEXT.md
@.planning/phases/02-static-sections/02-01-SUMMARY.md
@src/lib/types.ts
@src/lib/constants.ts
@src/app/page.tsx
@src/components/ui/Container.tsx
@src/components/ui/Card.tsx
@src/components/ui/SectionHeading.tsx
@src/components/ui/AnimatedSection.tsx
@tailwind.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add description field to TimelineEvent type and update constants</name>
  <files>
    src/lib/types.ts
    src/lib/constants.ts
  </files>
  <action>
**types.ts** — Add `description` field to `TimelineEvent`:
- Add `description?: string;` (optional — backward compatible) after the `title` field
- Remove the old comment about "описание отсутствует по решению" — CONTEXT.md Phase 2 explicitly decided to add descriptions
- Add a comment: `/** Краткое описание этапа (1 строка) */`

**constants.ts** — Add `description` to each timeline event:
- Per CONTEXT.md: "Добавить описания к этапам — 1 строка на этап"
- These are placeholder descriptions (per Claude's Discretion: "Placeholder-описания для этапов таймлайна до получения реальных данных"):
  ```
  { time: '15:00', title: 'Сбор гостей', description: 'Встреча с шампанским и лёгкими закусками' }
  { time: '16:00', title: 'Церемония', description: 'Торжественная регистрация брака' }
  { time: '17:00', title: 'Банкет', description: 'Праздничный ужин и поздравления' }
  { time: '20:00', title: 'Свадебный торт', description: 'Традиционное разрезание торта' }
  { time: '22:00', title: 'Завершение вечера', description: 'Финальный танец и прощание' }
  ```
- Also update the comment above timelineData to reflect "время + название + описание"
  </action>
  <verify>
`npm run build` passes. Types are consistent between types.ts and constants.ts. No TypeScript errors.
  </verify>
  <done>
TimelineEvent has optional `description` field. All 5 events in constants.ts include placeholder descriptions. Build passes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create TimelineSection component with zigzag layout and integrate into page.tsx</name>
  <files>
    src/components/sections/TimelineSection.tsx
    src/app/page.tsx
  </files>
  <action>
**TimelineSection.tsx** (CONT-05):
- Import `timelineData` from `@/lib/constants`
- Import `Container`, `SectionHeading`, `AnimatedSection`, `Card` from UI components
- Import specific Lucide icons for each timeline event (per Claude's Discretion: "Конкретные Lucide-иконки для каждого этапа таймлайна"):
  - Сбор гостей → `Wine` or `Champagne` (if available) or `GlassWater`
  - Церемония → `Heart` or `Gem`
  - Банкет → `UtensilsCrossed`
  - Свадебный торт → `Cake`
  - Завершение вечера → `Music` or `PartyPopper` or `Sparkles`
- Create an icon map: `Record<string, LucideIcon>` mapping `event.title` to the corresponding icon component. Use a fallback icon (e.g., `Circle`) for unrecognized titles.

**Layout structure — ZIGZAG per CONTEXT.md:**

Desktop (md+ breakpoint):
- Central vertical line: `absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 w-0.5 bg-alexandrite`
- Events alternate: odd events (index 0, 2, 4) appear LEFT of line, even events (index 1, 3) appear RIGHT
- Each event row: `flex items-center` with `w-1/2` on each side
- Left event: content on the left half, empty right half. Right event: empty left half, content on the right half.
- Icon circle positioned ON the center line: `absolute left-1/2 transform -translate-x-1/2`
- Icon circle style per CONTEXT.md: "средние (28-32px), белый фон, обводка александрит, иконка цветная" — `w-8 h-8` (32px), `bg-white border-2 border-alexandrite rounded-full flex items-center justify-center shadow-sm`, icon inside at 16px size with `text-alexandrite`

Each event content (inside a Card):
- Time: `text-alexandrite font-medium text-sm`
- Title: `text-lg font-medium`
- Description: `text-sm opacity-70 mt-1`

Mobile (below md):
- Per CONTEXT.md: "На мобильном зигзаг сворачивается в прямую линию (всё слева от линии)"
- Vertical line on the left side: `absolute left-4 top-0 bottom-0 w-0.5 bg-alexandrite`
- Icon circles positioned on the left line: `absolute left-4 transform -translate-x-1/2`
- All event content to the right of the line: `ml-12` or similar offset
- Cards stack vertically with `space-y-6`

Use responsive classes: `hidden md:block` / `md:hidden` for layout switching, or use Tailwind responsive utilities to shift positioning.

Wrap in `AnimatedSection` with `id="timeline"` and `className="py-16"`. Use `SectionHeading` with text "Как пройдёт наш день". The timeline content is in a `relative` container for absolute line positioning.

Export as named export: `export function TimelineSection()`

**page.tsx** — Replace timeline placeholder:
- Import `TimelineSection` from `@/components/sections/TimelineSection`
- Replace the `<AnimatedSection id="timeline" ...>` placeholder block with `<TimelineSection />`
- Remove `timelineData` from the page imports (now only used inside TimelineSection)
- Clean up any unused imports (check if `Container`, `Card`, `SectionHeading`, `AnimatedSection`, `Button` are still needed for remaining placeholder sections — countdown, RSVP, map still use them)
- Keep `sectionOrder` and `countdownData` imports if still referenced
  </action>
  <verify>
`npm run build` passes with zero errors. `src/components/sections/TimelineSection.tsx` exists and exports TimelineSection. page.tsx uses TimelineSection component. All 8 section IDs still present in rendered output. No console errors in `npm run dev`.
  </verify>
  <done>
Timeline section displays zigzag layout on desktop (events alternating left-right of central alexandrite line), collapses to single column on mobile. Each event shows unique Lucide icon in bordered circle, wrapped in Card with time/title/description. page.tsx integrates TimelineSection, all Phase 2 sections now use dedicated components.
  </done>
</task>

</tasks>

<verification>
- `npm run build` completes with zero errors
- All 8 section IDs present for SectionDots navigation
- TimelineEvent type includes optional description field
- All 5 timeline events in constants.ts have descriptions
- Timeline renders zigzag on desktop, linear on mobile
- Each timeline event has a unique Lucide icon
- All section components live in src/components/sections/
</verification>

<success_criteria>
- Timeline shows alternating left-right events on md+ with central alexandrite line
- Mobile view collapses to linear single-column layout
- Each event has: Lucide icon in bordered circle, Card wrapper, time, title, description
- TimelineEvent type updated with description field, constants populated
- page.tsx uses all 5 section components (Hero, Info, Dresscode, Footer from Plan 01 + Timeline)
- Build passes with zero TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-static-sections/02-02-SUMMARY.md`
</output>
