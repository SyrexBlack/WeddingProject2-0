---
phase: 01-foundation
plan: 03
type: execute
wave: 3
depends_on: ["01-02"]
files_modified:
  - src/app/page.tsx
  - src/components/SectionDots.tsx
autonomous: false
requirements:
  - FOUND-05

must_haves:
  truths:
    - "Главная страница рендерит все секции-заглушки в правильном порядке с заголовками"
    - "Каждая секция обёрнута в AnimatedSection и появляется с анимацией при скролле"
    - "SectionDots навигация отображается справа и работает (плавный скролл ~1200ms)"
    - "Все базовые UI-компоненты видны на странице и выглядят корректно"
    - "npm run dev и npm run build работают без ошибок"
  artifacts:
    - path: "src/app/page.tsx"
      provides: "Main page with all section placeholders in correct order"
      min_lines: 50
    - path: "src/components/SectionDots.tsx"
      provides: "Right-side dot navigation with scroll tracking"
      exports: ["SectionDots"]
  key_links:
    - from: "src/app/page.tsx"
      to: "src/lib/constants.ts"
      via: "imports sectionOrder, heroData, etc."
      pattern: "import.*from.*constants"
    - from: "src/app/page.tsx"
      to: "src/components/ui/AnimatedSection.tsx"
      via: "wraps each section"
      pattern: "AnimatedSection"
    - from: "src/components/SectionDots.tsx"
      to: "src/lib/constants.ts"
      via: "imports sectionOrder for dot generation"
      pattern: "sectionOrder"
---

<objective>
Assemble the main page with all section placeholders in the correct order, add the SectionDots right-side navigation component, and verify the complete foundation visually.

Purpose: Prove all foundation pieces work together — types, constants, components composing into a scrollable page with working navigation.
Output: Fully assembled page.tsx showing all sections with animated appearances and dot navigation; visual verification by user.
</objective>

<execution_context>
@C:/Users/user/.config/opencode/get-shit-done/workflows/execute-plan.md
@C:/Users/user/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@.planning/phases/01-foundation/01-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SectionDots navigation component and assemble main page</name>
  <files>
    src/components/SectionDots.tsx
    src/app/page.tsx
  </files>
  <action>
    **1. Create `src/components/SectionDots.tsx`** — Per CONTEXT.md decisions:
    - Right-side fixed dot indicators for section navigation
    - Clickable — smooth scroll to section (~1200ms duration)
    - Active dot: filled with alexandrite (#598c74)
    - Inactive dots: light alexandrite (with opacity)
    - Hidden on mobile (per decisions: "Скрыты на мобильных")
    - Must be a client component ('use client') for scroll tracking

    ```tsx
    'use client';

    // Props: none (reads sectionOrder from constants)
    // State: activeSection (tracked via IntersectionObserver on each section)
    //
    // Implementation:
    // 1. Import sectionOrder from '@/lib/constants' (filter out hero and footer — dots for middle sections only, or include all — use judgment)
    // 2. Use IntersectionObserver to detect which section is currently in viewport
    //    - Observe all elements with id matching SectionId values
    //    - threshold: 0.3 (enough of section visible to be "active")
    // 3. Render fixed position dots on right side: fixed right-4 top-1/2 -translate-y-1/2 z-50
    // 4. Each dot: w-3 h-3 rounded-full, cursor-pointer, transition-all duration-300
    //    - Active: bg-alexandrite scale-110
    //    - Inactive: bg-alexandrite-light (or bg-alexandrite/20)
    // 5. On click: element.scrollIntoView({ behavior: 'smooth' })
    //    - For ~1200ms smooth scroll, use window.scrollTo with custom duration via requestAnimationFrame
    //    - Or use CSS scroll-behavior: smooth (already set in globals.css) — acceptable approximation
    // 6. Hidden on mobile: use `hidden lg:flex` or `hidden md:flex`
    // 7. Optional: show tooltip with section title on hover
    ```

    **2. Assemble `src/app/page.tsx`** — Full page with section placeholders:

    Per CONTEXT.md locked section order:
    1. Hero (id="hero")
    2. Countdown (id="countdown") — no heading
    3. Info "О торжестве" (id="info")
    4. Timeline "Как пройдёт наш день" (id="timeline")
    5. Dress code "Дресс-код" (id="dresscode")
    6. RSVP "Ждём вашего ответа" (id="rsvp")
    7. Map "Место проведения" (id="map")
    8. Footer (id="footer")

    ```tsx
    // Import all components and constants
    import { Container } from '@/components/ui/Container';
    import { Button } from '@/components/ui/Button';
    import { Card } from '@/components/ui/Card';
    import { SectionHeading } from '@/components/ui/SectionHeading';
    import { AnimatedSection } from '@/components/ui/AnimatedSection';
    import { SectionDots } from '@/components/SectionDots';
    import { heroData, countdownData, infoCards, timelineData, dressCodeData, footerData, sectionOrder } from '@/lib/constants';

    export default function Home() {
      return (
        <>
          <SectionDots />
          <main>
            {/* Hero section — full screen placeholder */}
            <section id="hero" className="h-screen flex items-center justify-center bg-chocolate/10 relative">
              <div className="text-center">
                <h1 className="text-5xl sm:text-7xl mb-4">{heroData.coupleNames}</h1>
                <p className="text-xl sm:text-2xl mb-2">{heroData.date}</p>
                <p className="text-lg opacity-70">{heroData.invitationPhrase}</p>
              </div>
              <p className="absolute bottom-4 text-sm opacity-40">Hero фото будет добавлено в Phase 2</p>
            </section>

            {/* Countdown — no heading per decisions */}
            <AnimatedSection id="countdown" className="py-16">
              <Container>
                <p className="text-center text-xl opacity-60">Countdown будет реализован в Phase 3</p>
              </Container>
            </AnimatedSection>

            {/* Info — "О торжестве" */}
            <AnimatedSection id="info" className="py-16">
              <Container>
                <SectionHeading>О торжестве</SectionHeading>
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 mt-8">
                  {infoCards.map((card) => (
                    <Card key={card.type}>
                      <h3 className="text-xl font-medium mb-2">{card.title}</h3>
                      {card.lines.map((line, i) => (
                        <p key={i} className="opacity-80">{line}</p>
                      ))}
                    </Card>
                  ))}
                </div>
              </Container>
            </AnimatedSection>

            {/* Timeline — "Как пройдёт наш день" */}
            <AnimatedSection id="timeline" className="py-16">
              <Container>
                <SectionHeading>Как пройдёт наш день</SectionHeading>
                <div className="mt-8 space-y-4">
                  {timelineData.map((event, i) => (
                    <div key={i} className="flex items-center gap-4">
                      <span className="text-alexandrite font-medium w-16">{event.time}</span>
                      <span>{event.title}</span>
                    </div>
                  ))}
                </div>
                <p className="text-sm opacity-40 mt-4">Полный таймлайн с зигзагом будет в Phase 2</p>
              </Container>
            </AnimatedSection>

            {/* Dress code — "Дресс-код" */}
            <AnimatedSection id="dresscode" className="py-16">
              <Container>
                <SectionHeading>Дресс-код</SectionHeading>
                <p className="text-center mt-6 mb-4">{dressCodeData.description}</p>
                <div className="flex justify-center gap-4">
                  {dressCodeData.palette.map((swatch) => (
                    <div key={swatch.name} className="text-center">
                      <div
                        className="w-10 h-10 rounded-full mx-auto mb-1"
                        style={{ backgroundColor: swatch.color }}
                      />
                      <span className="text-xs opacity-70">{swatch.name}</span>
                    </div>
                  ))}
                </div>
              </Container>
            </AnimatedSection>

            {/* RSVP — "Ждём вашего ответа" */}
            <AnimatedSection id="rsvp" className="py-16">
              <Container>
                <SectionHeading>Ждём вашего ответа</SectionHeading>
                <div className="mt-8 text-center">
                  <p className="opacity-60 mb-4">RSVP-форма будет реализована в Phase 4</p>
                  <Button variant="filled" size="large">Подтвердить</Button>
                </div>
              </Container>
            </AnimatedSection>

            {/* Map — "Место проведения" */}
            <AnimatedSection id="map" className="py-16">
              <Container>
                <SectionHeading>Место проведения</SectionHeading>
                <div className="mt-8 text-center">
                  <p className="opacity-60 mb-4">Карта будет добавлена в Phase 4</p>
                  <Button variant="outline">Построить маршрут</Button>
                </div>
              </Container>
            </AnimatedSection>

            {/* Footer */}
            <footer id="footer" className="py-8 text-center opacity-60">
              <p>{footerData.text}</p>
            </footer>
          </main>
        </>
      );
    }
    ```

    This demonstrates ALL components working together: Container, Button (both variants), Card, SectionHeading, AnimatedSection, SectionDots. Data flows from constants.ts through typed components.
  </action>
  <verify>
    Run `npm run build` — zero errors. Run `npm run dev` and verify in browser:
    1. Page scrolls through all 8 sections in correct order
    2. Section headings show with decorative lines
    3. Dot navigation visible on right side (desktop)
    4. Clicking dots scrolls to sections
    5. AnimatedSection triggers fade-up on scroll
    6. Both button variants visible (outline in Map, filled in RSVP)
    7. Info cards render in grid
    8. Dress code palette shows colored circles
  </verify>
  <done>
    Main page assembled with all 8 sections in correct order, each with proper heading. SectionDots navigation works. All UI components demonstrated on page. Foundation is complete and visually verifiable.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of complete foundation</name>
  <files>src/app/page.tsx</files>
  <action>
    Present the complete Phase 1 foundation for visual verification. What was built:
    - Next.js 15 project with TypeScript and Tailwind CSS 4
    - Calmius font (or stand-in) applied globally
    - Cream background with paper texture, dark chocolate text
    - All wedding data in typed constants.ts
    - 5 UI components: Container, Button (outline+filled), Card, SectionHeading (with tapered lines), AnimatedSection (4 fade variants)
    - SectionDots right-side navigation
    - Main page with all 8 sections assembled in correct order

    User verification steps:
    1. Open http://localhost:3000 in browser
    2. Check visual style: cream background, paper-like texture, dark brown text (not black)
    3. Scroll through all sections — verify order: Hero → Countdown → Info → Timeline → Dress code → RSVP → Map → Footer
    4. Verify section headings have decorative lines on sides (e.g., "О торжестве" with lines)
    5. Verify AnimatedSection: sections fade in from below when scrolling
    6. Verify SectionDots: dots visible on right side (desktop only), click one to smooth-scroll
    7. Verify Button styles: outline button in Map section, filled button in RSVP section
    8. Verify info cards render as a grid, dress code palette shows colored circles
    9. Resize to mobile width — dots should disappear, layout should stack vertically
    10. Run `npm run build` — should complete with zero errors

    Resume signal: Type "approved" or describe issues to fix
  </action>
  <verify>User confirms visual appearance matches expectations or provides feedback for fixes</verify>
  <done>User has approved the visual foundation — all components styled correctly, page layout matches CONTEXT.md decisions</done>
</task>

</tasks>

<verification>
1. `npm run build` passes with zero errors
2. All 8 sections render in correct order on page
3. SectionDots navigation works (scroll tracking + click navigation)
4. AnimatedSection triggers on scroll for each section
5. All UI components visible and styled correctly
6. Mobile responsive — dots hidden, sections stack
7. Visual style matches CONTEXT.md: cream, alexandrite accents, chocolate text, paper texture
</verification>

<success_criteria>
- Main page shows all 8 sections in correct order from CONTEXT.md
- SectionDots fixed right-side navigation with active state tracking and smooth scroll
- All components from Plan 02 are demonstrated on page
- Data from constants.ts renders in appropriate sections
- `npm run build` passes, `npm run dev` runs without errors
- User has visually verified the foundation looks correct
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-03-SUMMARY.md`
</output>
